@model List<NewsCategoryViewModel>
@using Invest.Web.Models.Search
@using Extensions.String;
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var searchOption = (SearchOptionModel)ViewBag.searchOption;
}
<div class="container" id="container" style="padding-top:20px;padding-bottom:20px">
    <div class="row">
        <div class="col-sm-3">
            <div class="panel-group-ba" id="filters">
                @*<div class="panel panel-default">
                        <div class="panel-heading">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" data-parent="#accordion" href="#categories">
                                    Categories
                                </a>
                            </h4>
                        </div>
                        <div id="categories" class="panel-collapse collapse in">
                            <div class="panel-body">
                                <select name="category" class="form-control">
                                    <option value="0">All</option>
                                    <option value="1">News</option>
                                    <option value="3">Maps</option>
                                </select>
                            </div>
                        </div>
                    </div>*@
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse">
                                Sort
                            </a>
                        </h4>
                    </div>
                    <div id="sort" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <select name="sort" class="form-control ajax">
                                <option value="1" @(searchOption.OrderType == 1 ? "selected='selected'" : "")>Featured</option>
                                <option value="2" @(searchOption.OrderType == 2 ? "selected='selected'" : "")>Old</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-7">
            <div class="row">
                <div class="col-sm-12 col-md-12">
                    <form role="search">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search" name="key" value="@searchOption.Key">
                            <input type="hidden" value="1" name="OrderType" id="OrderType" />
                            <div class="input-group-btn">
                                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
                @foreach (var item in Model)
                {
                    <div class="col-sm-6 col-xs-6">
                        <div class="thumbnail">
                            @if (!string.IsNullOrEmpty(item.Brief))
                            {
                                <div class="caption">
                                    <a href="@Url.Action("Index","News",new { Name = item.Title.ConvertToUnSign(), Id = item.Id})">
                                        <p>@Html.Raw(item.Brief.StripTagsRegexCompiled().ToStringCount(140))</p>
                                    </a>
                                    <p><a href="#" class="btn btn-inverse" rel="tooltip" title="Preview"><i class="icon-eye-open"></i></a> <a href="#" rel="tooltip" title="Visit Website" class="btn btn-inverse"><i class="icon-share"></i></a></p>
                                </div>
                            }
                            <img class="img-responsive" width="320" height="130" src="@item.ImagePath" />
                        </div>
                        <h4><a href="@Url.Action("Index","News",new { Name = item.Title.ConvertToUnSign(), Id = item.Id})">@item.Title.ToStringCount(80)</a></h4>
                    </div>
                }
            </div>
        </div>
        <div class="col-sm-2 padding_none">
            <div class="col-xs-12 padding_none">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        Support Online
                        <div class="btn-group pull-right" style="margin-top:-5px;">
                            <a href="#" class="btn btn-success btn-sm"><i class="fa fa-pencil"></i></a>
                            <a href="#" class="btn btn-danger btn-sm"><i class="fa fa-times"></i></a>
                        </div>
                    </div>
                    <div class="panel-body">
                        <img class="img-responsive" src="http://www.investkorea.org/publish/data/main/20140411/1404_SIC2.jpg">
                        <br />
                        <i class="fa fa-envelope-square"></i> vonhatnam@gmai.com
                        <br />
                        <i class="fa fa-phone"></i> 0933 41 30 50
                        <br />
                        <i class="fa fa-skype"></i> vonhatnam
                    </div>
                </div>
                <hr>
                <div class="panel panel-primary">
                    <div class="panel-heading">Parner</div>
                    <div class="panel-body"><img src="http://www.investkorea.org/publish/data/content/921/07/img//140402.jpg" class="img-responsive" /></div>
                </div>
                <hr>
            </div>
        </div>
    </div>
</div>
@section JS_INC{
    <script>
        $(document).ready(function () {
            $('#container .thumbnail').hover(
                function () {
                    $(this).find('.caption').slideDown(250);
                },
                function () {
                    $(this).find('.caption').slideUp(250);
                }
            );
            $("#sort select[name='sort']").change(function () {
                $('#OrderType').val($(this).val());
            });
        });
    </script>
}
<style>
    .divcenter .thumbnail {
        position: relative;
    }

    #hover-cap-4col .thumbnail {
        position: relative;
        overflow: hidden;
    }

    .caption {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        background: rgba(0,0,0,.85);
        width: 100%;
        height: 100%;
    }

        .caption a {
            color: #fff !important;
            text-decoration: none;
        }
</style>